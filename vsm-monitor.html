<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>

<head>
    <title>Vital Signs Monitor</title>
    <meta http-equiv="imagetoolbar" content="no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <link rel="icon" type="image/svg" href="./static/logos/favicon.svg">
    <link rel="stylesheet" href="./static/css/styles.css">
    <link rel="stylesheet" href="./static/lib/css/bootstrap.min.css">
</head>

<body class="text-bg-dark">
    &nbsp;
    <div id="ractive-target" class="container monitor-container">
        <!-- should actually be
        <script id="ractive-template" type="text/ractive">
        (but then code highlighting doesn't work...) -->
        <script id="ractive-template" type="text/html">
            <div class="navbar navbar-expand-lg bg-dark">
                <div class="navbar-brand text-bg-dark">
                    <img src="./static/logos/logo.png" alt="User Logo" height="32rem">
                </div>
            </div>
            <div class="text-end font-monospace" >{{ display.connectionStatus  }}</div>
            <div class="alert alert-success p-1 row">
                <div class="col-4">{{ patient.fullName }}</div>
                <div class="col-4">*{{ patient.dob.toLocaleDateString() }}</div>
                <div class="col-4">{{ display.dateTime }}</div>
            </div>
            <div {{^display.triggers.ecg}}hidden{{/display.triggers.ecg}} {{ 'style="color: ' + display.colors.ecg + ';"'}}>
                <div class="row parm-sm">
                    <div class="col-1">ECG - II</div>
                    <div class="col-7"></div>
                    <div class="col-4">HR<sub>ECG</sub> (bpm)</div>
                </div>
                <div class="row parm-lg">
                    <div class="col-8 signal-column">
                        <canvas class="buffer-canvas" id="ecgBufferCanvas" hidden></canvas>
                        <canvas class="signal-canvas" id="ecgSigCanvas"></canvas>
                    </div>
                    <div class="col-4"><span>{{ display.hfEcg }}</span></div>
                </div>
            </div>
            <div {{^display.triggers.spO2}}hidden{{/display.triggers.spO2}} {{ 'style="color: ' + display.colors.spO2 + ';"'}}>
                <div class="row parm-sm">
                    <div class="col-1">Pleth</div>
                    <div class="col-7"></div>
                    <div class="col-2">SpO<sub>2</sub> (%)</div>
                    <div class="col-2">HR<sub>Pleth</sub> (bpm)</div>
                </div>
                <div class="row parm-lg">
                    <div class="col-8 signal-column">
                        <canvas class="buffer-canvas" id="spO2BufferCanvas" hidden></canvas>
                        <canvas class="signal-canvas" id="spO2SigCanvas"></canvas>
                    </div>
                    <div class="col-2">{{ display.spO2 }}</div>
                    <div class="col-2">{{ display.hfSpO2 }}</div>
                </div>
            </div>
            <div {{^display.triggers.resp}}hidden{{/display.triggers.resp}} {{ 'style="color: ' + display.colors.resp + ';"'}}>
                <div class="row parm-sm">
                    <div class="col-1">Resp</div>
                    <div class="col-7"></div>
                    <div class="col-4">BR (bpm)</div>
                </div>
                <div class="row parm-lg">
                    <div class="col-8 signal-column">
                        <canvas class="buffer-canvas" id="respBufferCanvas" hidden></canvas>
                        <canvas class="signal-canvas" id="respSigCanvas"></canvas>
                    </div>
                    <div class="col-4">{{ display.resp }}</div>
                </div>
            </div>
            <div {{#unless (display.triggers.nbp || display.triggers.temp)}}hidden{{/unless}}>
                <div class="row parm-sm">
                    <div class="col-1" {{'style="color: ' + display.colors.nbp + ';"'}}>
                        <span {{^display.triggers.nbp}}hidden{{/display.triggers.nbp}}>
                            NBP
                        </span>
                    </div>
                    <div class="col-9"></div>
                    <div class="col-2" {{'style="color: ' + display.colors.temp + ';"'}}>
                        <span {{^display.triggers.temp}}hidden{{/display.triggers.temp}}>
                            Temp (&deg;C)
                        </span>
                    </div>
                </div>
                <div class="row parm-lg">
                    <div class="col-6" {{'style="color: ' + display.colors.nbp + ';"'}}>
                        <span {{^display.triggers.nbp}}hidden{{/display.triggers.nbp}}>
                            {{ display.nbpSys + "/" + display.nbpDia + " (" + (2 * display.nbpDia + display.nbpSys)/3 + ")"}}
                        </span>
                    </div>
                    <div class="col-4"></div>
                    <div class="col-2" {{'style="color: ' + display.colors.temp + ';"'}}>
                        <span {{^display.triggers.temp}}hidden{{/display.triggers.temp}}>
                            {{ display.temp }}
                        </span>
                    </div>
                </div>
            </div>
            <input type="checkbox" checked='{{display.triggers.ecg}}'> ECG
            <input type="checkbox" checked='{{display.triggers.spO2}}'> Pleth
            <input type="checkbox" checked='{{display.triggers.resp}}'> Resp
            <input type="checkbox" checked='{{display.triggers.nbp}}'> NBP
            <input type="checkbox" checked='{{display.triggers.temp}}'> Temp
        </script>
    </div>
</body>

<script src="./static/lib/js/ractive.min.js"></script>
<script src="./static/lib/js/bootstrap.bundle.min.js"></script>
<script src="./static/lib/js/peerjs.min.js"></script>
<script src="./static/js/globals.js"></script>
<script src="./static/js/classes.js"></script>
<script src="./static/js/helpers.js"></script>
<script src="./static/js/signals.js"></script>
<script src="./static/js/monitor.js"></script>

</html>